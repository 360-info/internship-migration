knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(data.table)
missingMG2022 <- read_csv("Migration/datasets/missing_migrants/MissingMigrants-Global-2022-05-10--19_05_02.csv")
missingMG2022 <- read_csv("data/missing_migrants/MissingMigrants-Global-2022-05-10--19_05_02.csv")
missingMG2021 <- read_csv("data/missing_migrants/MissingMigrants-Global-2022-05-10--21_27_42.csv")
missingMG2020 <- read_csv("data/missing_migrants/MissingMigrants-Global-2022-05-11--13_33_08.csv")
missingMG2019 <- read_csv("data/missing_migrants/MissingMigrants-Global-2022-05-10--22_06_47.csv")
missingMG2018 <- read_csv("data/missing_migrants/MissingMigrants-Global-2022-05-10--22_06_56.csv")
missingMG2017 <- read_csv("data/missing_migrants/MissingMigrants-Global-2022-05-10--23_37_54.csv")
missingMG2016 <- read_csv("data/missing_migrants/MissingMigrants-Global-2022-05-11--13_35_18.csv")
missingMG2015 <- read_csv("data/missing_migrants/MissingMigrants-Global-2022-05-11--13_34_24.csv")
missingMG2014 <- read_csv("data/missing_migrants/MissingMigrants-Global-2022-05-11--13_33_54.csv")
missingMG <- rbind(missingMG2022, missingMG2021,missingMG2020,
missingMG2019, missingMG2018,missingMG2017,
missingMG2016, missingMG2015,missingMG2014)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
ct <- read_csv("data/The Global Dataset 14 Apr 2020.csv")
ct <- read_csv("data/The Global Dataset 14 Apr 2020.csv")
ct
View(ct)
?select
ct <- read_csv("data/The Global Dataset 14 Apr 2020.csv")
ct[-0]
ct[-0]
ct <- read_csv("data/The Global Dataset 14 Apr 2020.csv")
ct[-c(0)]
ct <- read_csv("data/The Global Dataset 14 Apr 2020.csv")
ct[-c(1)]
ct <- read_csv("data/The Global Dataset 14 Apr 2020.csv")
ct[-1]
ct <- read_csv("data/The Global Dataset 14 Apr 2020.csv")
ct <- ct %>%
ct[-1]
ct <- read_csv("data/The Global Dataset 14 Apr 2020.csv")
ct <- ct %>%
ct[c(-1)]
ct <- read_csv("data/The Global Dataset 14 Apr 2020.csv")
ct <- ct %>%
select(-1)
ct
View(ct)
ct %>% replace_with_na(replace = list(x = -99))
library(naniar)
ct %>% replace_with_na(replace = list(x = -99))
ct %>% replace_with_na(replace = -99)
ct %>% replace_with_na_all(condition = ~.x == -99)
ct %>% set_na(ct, na = -99)
ct %>%
na_if(-99)
ct <- read_csv("data/The Global Dataset 14 Apr 2020.csv")
ct <- ct %>%
select(-1) %>% # deselect unused column
na_if(-99)     # replace all -99 values with NA as defined in the codebook
View(ct)
ct %>%
ggplot(aes(x = typeOfExploitConcatenated,
y = gender)) %>%
geom_col()
ct %>%
ggplot(aes(x = typeOfExploitConcatenated,
y = gender)) +
geom_col()
ct %>%
ggplot(aes(x = typeOfExploitConcatenated),
group_by(gender)) +
geom_bar()
?geom_bar
?aes
?ggplot
ct %>%
ggplot(aes(x = typeOfExploitConcatenated)) +
geom_bar(colour = gender)
ct %>%
ggplot(aes(x = typeOfExploitConcatenated), colour = gender) +
geom_bar()
ct %>%
ggplot(aes(x = typeOfExploitConcatenated), group = gender) +
geom_bar()
ct %>%
ggplot(aes(x = typeOfExploitConcatenated), group = gender, fill = gender) +
geom_bar()
ct %>%
ggplot(aes(x = typeOfExploitConcatenated, group = gender, fill = gender)) +
geom_bar()
ct %>%
ggplot(aes(x = typeOfExploitConcatenated, fill = gender)) +
geom_bar()
ct %>%
ggplot(aes(x = typeOfExploitConcatenated)) +
geom_bar(aes(group = gender, fill = gender))
ct %>%
ggplot(aes(x = typeOfExploitConcatenated)) +
geom_bar(aes(fill = gender))
ct %>%
ggplot(aes(x = typeOfExploitConcatenated)) +
geom_bar(aes(colour = gender))
ct %>%
ggplot(aes(x = typeOfExploitConcatenated)) +
geom_col(aes(fill = gender))
?geom_col
ct %>%
ggplot(aes(x = typeOfExploitConcatenated)) +
geom_bar(aes(fill = gender))
ct %>%
ggplot(aes(x = typeOfExploitConcatenated, fill = gender)) +
geom_bar()
ct %>%
ggplot(aes(x = typeOfExploitConcatenated, fill = gender)) +
geom_bar(aes(group = gender))
ct %>%
ggplot(aes(x = typeOfExploitConcatenated, fill = gender)) +
geom_bar(aes(position = 'dodge'))
ct %>%
ggplot(aes(x = typeOfExploitConcatenated, fill = factor(gender))) +
geom_bar()
ct %>%
ggplot(aes(x = typeOfExploitConcatenated, fill = gender)) +
geom_bar()
ct %>%
ggplot(aes(x = majorityStatus, fill = gender)) +
geom_bar()
ct %>%
ggplot(aes(x = majorityStatus, fill = gender)) +
geom_bar(position = "dodge")
ct %>%
ggplot(aes(x = typeOfExploitConcatenated, fill = gender)) +
geom_bar(position = "dodge")
ct %>%
replace_na(list(typeOfExploitConcatenated = 'unknown')) %>%
ggplot(aes(x = typeOfExploitConcatenated, fill = gender)) +
geom_bar(position = "dodge")
ct %>%
replace_na(list(typeOfExploitConcatenated = 'unknown')) %>%
ggplot(aes(x = typeOfExploitConcatenated, fill = gender)) +
geom_bar(position = "dodge", width = .5)
ct %>%
replace_na(list(typeOfExploitConcatenated = 'unknown')) %>%
ggplot(aes(x = typeOfExploitConcatenated, fill = gender)) +
geom_bar(position = "dodge", width = .7)
ct %>%
replace_na(list(typeOfExploitConcatenated = 'unknown')) %>%
ggplot(aes(x = typeOfExploitConcatenated, fill = gender)) +
geom_bar(position = "dodge", width = .7) +
theme(axis.text.x = element_text(angle=45))
ct %>%
replace_na(list(typeOfExploitConcatenated = 'unknown')) %>%
ggplot(aes(x = typeOfExploitConcatenated, fill = gender)) +
geom_bar(position = "dodge", width = .7) +
theme(axis.text.x = element_text(angle=60))
ct %>%
replace_na(list(typeOfExploitConcatenated = 'unknown')) %>%
ggplot(aes(x = typeOfExploitConcatenated, fill = gender)) +
geom_bar(position = "dodge", width = .7) +
theme(axis.text.x = element_text(angle=20))
ct %>%
replace_na(list(typeOfExploitConcatenated = 'unknown')) %>%
ggplot(aes(x = typeOfExploitConcatenated, fill = gender)) +
geom_bar(position = "dodge", width = .7) +
theme(axis.text.x = element_text(angle=10))
?replace_str
??replace_str
?str_replace
ct %>%
replace_na(list(typeOfExploitConcatenated = 'unknown')) %>%
ggplot(aes(x = typeOfExploitConcatenated, fill = gender)) +
geom_bar(position = "dodge", width = .7) +
theme(axis.text.x = element_text(angle=45))
ct %>%
replace_na(list(typeOfExploitConcatenated = 'unknown')) %>%
str_replace("Forced labour; Sexual exploitation;Combined sexual and labour exploitation",
"Combined sexual and labour exploitation") %>%
ggplot(aes(x = typeOfExploitConcatenated, fill = gender)) +
geom_bar(position = "dodge", width = .7) +
theme(axis.text.x = element_text(angle=20))
ct %>%
replace_na(list(typeOfExploitConcatenated = 'unknown')) %>%
str_replace(typeOfExploitConcatenated,
"Forced labour; Sexual exploitation;Combined sexual and labour exploitation",
"Combined sexual and labour exploitation") %>%
ggplot(aes(x = typeOfExploitConcatenated, fill = gender)) +
geom_bar(position = "dodge", width = .7) +
theme(axis.text.x = element_text(angle=20))
ct %>%
replace_na(list(typeOfExploitConcatenated = 'unknown')) %>%
str_replace(typeOfExploitConcatenated,
"`Forced labour; Sexual exploitation;Combined sexual and labour exploitation`",
"`Combined sexual and labour exploitation`") %>%
ggplot(aes(x = typeOfExploitConcatenated, fill = gender)) +
geom_bar(position = "dodge", width = .7) +
theme(axis.text.x = element_text(angle=20))
ct %>%
replace_na(list(typeOfExploitConcatenated = 'unknown')) %>%
str_replace(typeOfExploitConcatenated,
fixed("Forced labour; Sexual exploitation;Combined sexual and labour exploitation"),
"Combined sexual and labour exploitation") %>%
ggplot(aes(x = typeOfExploitConcatenated, fill = gender)) +
geom_bar(position = "dodge", width = .7) +
theme(axis.text.x = element_text(angle=20))
ct %>%
replace_na(list(typeOfExploitConcatenated = 'unknown')) %>%
str_replace(typeOfExploitConcatenated,
fixed("Forced labour; Sexual exploitation;Combined sexual and labour exploitation"),
fixed("Combined sexual and labour exploitation")) %>%
ggplot(aes(x = typeOfExploitConcatenated, fill = gender)) +
geom_bar(position = "dodge", width = .7) +
theme(axis.text.x = element_text(angle=20))
?gsub
??gsub
ct %>%
replace_na(list(typeOfExploitConcatenated = 'unknown')) %>%
gsub("Forced labour; Sexual exploitation;Combined sexual and labour exploitation", "Combined sexual and labour exploitation", typeOfExploitConcatenated, fixed = TRUE) %>%
ggplot(aes(x = typeOfExploitConcatenated, fill = gender)) +
geom_bar(position = "dodge", width = .7) +
theme(axis.text.x = element_text(angle=20))
ct %>%
replace_na(list(typeOfExploitConcatenated = 'unknown')) %>%
gsub("Forced labour; Sexual exploitation;Combined sexual and labour exploitation", "Combined sexual and labour exploitation", ct$typeOfExploitConcatenated, fixed = TRUE) %>%
ggplot(aes(x = typeOfExploitConcatenated, fill = gender)) +
geom_bar(position = "dodge", width = .7) +
theme(axis.text.x = element_text(angle=20))
ct %>%
replace_na(list(typeOfExploitConcatenated = 'unknown')) %>%
ggplot(aes(x = typeOfExploitConcatenated, fill = gender)) +
geom_bar(position = "dodge", width = .7) +
theme(axis.text.x = element_text(angle=20))
ct
ct$typeOfExploitConcatenated
ct$typeOfExploitConcatenated[df$typeOfExploitConcatenated ==
"Forced labour;Sexual exploitation;Combined sexual and labour exploitation"] <-"Combined sexual and labour exploitation"
ct$typeOfExploitConcatenated[ct$typeOfExploitConcatenated ==
"Forced labour;Sexual exploitation;Combined sexual and labour exploitation"] <-"Combined sexual and labour exploitation"
ct %>%
replace_na(list(typeOfExploitConcatenated = 'unknown')) %>%
ggplot(aes(x = typeOfExploitConcatenated, fill = gender)) +
geom_bar(position = "dodge", width = .7) +
theme(axis.text.x = element_text(angle=20))
?filter
?dplyr::filter
ct %>%
replace_na(list(typeOfExploitConcatenated = 'unknown')) %>%
dplyr::filter(typeOfexploitConcatenated == !"Forced labour;Other") %>%
ggplot(aes(x = typeOfExploitConcatenated, fill = gender)) +
geom_bar(position = "dodge", width = .7) +
theme(axis.text.x = element_text(angle=20))
ct %>%
replace_na(list(typeOfExploitConcatenated = 'unknown')) %>%
dplyr::filter(typeOfExploitConcatenated == !"Forced labour;Other") %>%
ggplot(aes(x = typeOfExploitConcatenated, fill = gender)) +
geom_bar(position = "dodge", width = .7) +
theme(axis.text.x = element_text(angle=20))
ct$typeOfExploitConcatenated[ct$typeOfExploitConcatenated ==
"Forced labour;Sexual exploitation;Combined sexual and labour exploitation"] <-"Combined sexual and labour exploitation"
ct %>%
replace_na(list(typeOfExploitConcatenated = 'unknown')) %>%
ggplot(aes(x = typeOfExploitConcatenated, fill = gender)) +
geom_bar(position = "dodge", width = .7) +
theme(axis.text.x = element_text(angle=20))
install.packages("renv")
renv::restore()
